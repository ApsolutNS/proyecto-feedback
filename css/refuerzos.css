/* =========================================================
   REFUERZOS.CSS ‚Äî REEMPLAZA TODO EL ARCHIVO
   Enfoque: look pro + dark mode legible + compat Quill + PDF
========================================================= */

/* ---------------- TOKENS / THEME ---------------- */
:root{
  --bg:#f3f4f6;
  --bg-soft:#e5e7eb;
  --text:#111827;
  --muted:#6b7280;
  --card:#ffffff;

  --accent:#0f4c81;
  --accent-soft:#2563eb;

  --border:#e5e7eb;
  --border-strong:#d1d5db;

  --shadow:0 18px 45px rgba(15, 23, 42, 0.16);

  --success:#16a34a;
  --warning:#f97316;
  --danger:#dc2626;

  --chip-bg:#e5f0ff;

  --ring: 0 0 0 3px rgba(37, 99, 235, .18);

  --radius-lg:18px;
  --radius-md:12px;
  --radius-sm:10px;

  --header-bg: linear-gradient(to right, rgba(15,23,42,.96), rgba(15,23,42,.92));
  --header-border: 1px solid rgba(148, 163, 184, 0.35);

  --btn-dark-bg: rgba(15,23,42,.85);
  --btn-dark-border: 1px solid rgba(148, 163, 184, 0.6);

  --table-hover: rgba(148,163,184,.06);

  --modal-backdrop: rgba(15, 23, 42, 0.75);

  /* PDF (siempre blanco) */
  --pdf-bg:#ffffff;
  --pdf-text:#111827;
  --pdf-muted:#4b5563;
  --pdf-border:#e5e7eb;
  --pdf-soft:#f3f4f6;
}

body.dark{
  /* ‚úÖ Ajuste CLAVE: card y bg NO iguales -> mejor separaci√≥n y legibilidad */
  --bg:#020617;
  --bg-soft:#0b1220;
  --card:#0b1220;

  --text:#e5e7eb;
  --muted:#a1a1aa;

  --accent:#38bdf8;
  --accent-soft:#0ea5e9;

  --border:#1f2937;
  --border-strong:#334155;

  --shadow:0 22px 60px rgba(0,0,0,.85);

  --chip-bg:#0f172a;

  --ring: 0 0 0 3px rgba(56, 189, 248, .18);

  --table-hover: rgba(148,163,184,.08);

  /* Modal body en dark */
  --modal-backdrop: rgba(2, 6, 23, .78);
}

/* ---------------- RESET ---------------- */
*{ box-sizing:border-box; margin:0; padding:0; }
html, body{ height:100%; }
body{
  font-family:"Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background:
    radial-gradient(circle at top, rgba(37, 99, 235, 0.12), transparent 55%),
    var(--bg);
  color:var(--text);
  min-height:100vh;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

a{ color: inherit; }
button, input, select, textarea{ font-family: inherit; }

/* Focus accesible */
:where(button, a, input, select, textarea, .asesor-chip, .btn-xs):focus-visible{
  outline: none;
  box-shadow: var(--ring);
}

/* ---------------- HEADER ---------------- */
header{
  backdrop-filter: blur(14px);
  background: var(--header-bg);
  color:#e5e7eb;
  border-bottom: var(--header-border);
  padding:14px 20px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  position:sticky;
  top:0;
  z-index:20;
}

.header-left{ display:flex; flex-direction:column; gap:4px; }
.header-title{
  font-size:18px;
  font-weight:600;
  display:flex;
  align-items:center;
  gap:10px;
  letter-spacing:.2px;
}
.header-title span.logo{
  width:26px;
  height:26px;
  border-radius:9px;
  background: linear-gradient(135deg, #22c55e, #0ea5e9);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:15px;
  font-weight:800;
  color:#0b1120;
}

.header-sub{
  font-size:12px;
  color:#cbd5e1;
  opacity:.85;
}

.header-meta{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin-top:4px;
}

.pill{
  font-size:11px;
  padding:2px 8px;
  border-radius:999px;
  border:1px solid rgba(148, 163, 184, 0.6);
  background: rgba(15, 23, 42, 0.32);
  display:flex;
  align-items:center;
  gap:6px;
  white-space: nowrap;
}
.pill-dot{
  width:6px;
  height:6px;
  border-radius:999px;
  background:#22c55e;
  box-shadow: 0 0 0 3px rgba(34,197,94,.15);
}

.header-right{
  display:flex;
  align-items:center;
  gap:8px;
}

.btn-sm,
.btn-toggle{
  border:none;
  border-radius:999px;
  padding:7px 12px;
  font-size:12px;
  cursor:pointer;
  background: var(--btn-dark-bg);
  color:#e5e7eb;
  display:inline-flex;
  align-items:center;
  gap:6px;
  border: var(--btn-dark-border);
  transition: transform .12s ease, background .12s ease, opacity .12s ease;
}
.btn-sm:hover,
.btn-toggle:hover{
  transform: translateY(-1px);
  background: rgba(15,23,42,.92);
}

/* ---------------- LAYOUT ---------------- */
.container{
  max-width:1180px;
  margin:0 auto;
  padding:18px 16px 32px;
}

.layout-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
  margin-top:5px;
}
@media (max-width: 960px){
  .layout-grid{ grid-template-columns: 1fr; }
}

/* ---------------- CARD ---------------- */
.card{
  background: var(--card);
  border-radius: var(--radius-lg);
  border: 1px solid color-mix(in srgb, var(--border) 75%, transparent);
  box-shadow: var(--shadow);
  padding: 18px 18px 20px;
  position: relative;
  overflow: hidden;
}
.card::before{
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(circle at 18% 0%, rgba(56,189,248,.08), transparent 45%);
  pointer-events:none;
  opacity: .6;
}
body.dark .card::before{
  background: radial-gradient(circle at 18% 0%, rgba(56,189,248,.10), transparent 50%);
  opacity: .9;
}

.card-header{
  position: relative;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:8px;
  margin-bottom:12px;
}
.card-title{ font-size:15px; font-weight:700; letter-spacing:.2px; }
.card-sub{ font-size:12px; color: var(--muted); margin-top:2px; }

.chip{
  font-size:11px;
  padding:3px 8px;
  border-radius:999px;
  background: var(--chip-bg);
  color: var(--accent-soft);
  border: 1px solid color-mix(in srgb, var(--border-strong) 55%, transparent);
}

/* ---------------- FORM ---------------- */
label{
  display:block;
  font-size:12px;
  color: var(--muted);
  margin-bottom:4px;
}
.form-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  gap:10px 12px;
  margin-top:6px;
}

input, select, textarea{
  width:100%;
  padding:8px 9px;
  border-radius: 9px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 88%, transparent);
  color: var(--text);
  font-size:13px;
  outline:none;
  resize: vertical;
  min-height:38px;
  transition: box-shadow .12s ease, border-color .12s ease, background .12s ease;
}

body.dark input,
body.dark select,
body.dark textarea{
  background: color-mix(in srgb, var(--bg) 70%, var(--card));
  border-color: var(--border);
}

input::placeholder,
textarea::placeholder{
  color: color-mix(in srgb, var(--muted) 75%, transparent);
}

input:focus,
select:focus,
textarea:focus{
  border-color: var(--accent-soft);
  box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.35), var(--ring);
  background: color-mix(in srgb, var(--card) 92%, transparent);
}

.form-footer{
  position: relative;
  margin-top:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}
.hint{
  font-size:11px;
  color: var(--muted);
  line-height: 1.35;
}

/* ---------------- BUTTONS ---------------- */
.btn{
  border:none;
  border-radius:999px;
  padding:9px 16px;
  font-size:13px;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:8px;
  background: linear-gradient(135deg, var(--accent-soft), #0ea5e9);
  color:#f9fafb;
  box-shadow: 0 14px 35px rgba(37, 99, 235, 0.42);
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
}
.btn:hover{
  transform: translateY(-1px);
  filter: brightness(1.02);
}
.btn:active{ transform: translateY(0px); }

.btn-secondary{
  background: transparent;
  color: var(--muted);
  border: 1px dashed var(--border);
  box-shadow: none;
}
body.dark .btn-secondary{
  color: color-mix(in srgb, var(--muted) 90%, #fff);
  border-color: color-mix(in srgb, var(--border-strong) 70%, transparent);
}

/* ---------------- BADGES / INLINE ---------------- */
.badge-inline{
  font-size:11px;
  padding:3px 7px;
  border-radius:999px;
  border: 1px solid color-mix(in srgb, var(--border-strong) 50%, transparent);
  color: var(--muted);
  display:inline-flex;
  align-items:center;
  gap:6px;
  background: color-mix(in srgb, var(--card) 85%, transparent);
}
.badge-dot-success,
.badge-dot-warning{
  width:7px;
  height:7px;
  border-radius:999px;
}
.badge-dot-success{ background: var(--success); box-shadow: 0 0 0 3px rgba(22,163,74,.15); }
.badge-dot-warning{ background: var(--warning); box-shadow: 0 0 0 3px rgba(249,115,22,.15); }

/* ---------------- ASESOR CHIPS ---------------- */
.chips-wrapper{
  grid-column: 1 / -1;
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-top:4px;
}
.chips-label-row{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  gap:8px;
  flex-wrap: wrap;
}
.chips-container{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}

.asesor-chip{
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg-soft) 82%, var(--card));
  box-shadow: 0 10px 25px rgba(15, 23, 42, 0.10);
  border-radius: 14px;
  padding: 10px 12px;
  min-width: 210px;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  gap:2px;
  text-align:left;
  font-size:13px;
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease;
}
body.dark .asesor-chip{
  box-shadow: 0 10px 25px rgba(0,0,0,.35);
  border-color: color-mix(in srgb, var(--border-strong) 55%, transparent);
}
.asesor-chip:hover{
  transform: translateY(-1px);
  box-shadow: 0 14px 32px rgba(15, 23, 42, 0.18);
}
body.dark .asesor-chip:hover{
  box-shadow: 0 14px 34px rgba(0,0,0,.55);
}
.asesor-chip.selected{
  border-color: var(--accent-soft);
  background: linear-gradient(135deg, rgba(37,99,235,0.12), rgba(56,189,248,0.10));
  box-shadow: 0 16px 40px rgba(37, 99, 235, 0.30);
}
body.dark .asesor-chip.selected{
  box-shadow: 0 16px 44px rgba(14,165,233,.22);
}
.asesor-chip-name{ font-weight:700; }
.asesor-chip-gc{ font-size:11px; color: var(--muted); }

/* ---------------- M√âTRICAS / FILTROS / TABLA ---------------- */
.metrics-row{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin-bottom:10px;
}
.metric-pill{
  font-size:11px;
  padding:5px 9px;
  border-radius:999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--card) 85%, transparent);
  display:inline-flex;
  align-items:center;
  gap:6px;
}
.metric-value{ font-weight:800; }

.filters-row{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom:8px;
}
.filters-row > *{
  flex:1;
  min-width:150px;
}
.filters-row .compact{
  max-width:160px;
  flex:0 0 auto;
}
.search-input{
  padding:8px 11px;
  border-radius:999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 88%, transparent);
  font-size:13px;
  color: var(--text);
}

.table-wrapper{
  margin-top:6px;
  border-radius: 12px;
  border: 1px solid var(--border);
  overflow:hidden;
  background: linear-gradient(to bottom, rgba(148, 163, 184, 0.07), transparent);
}
table{
  width:100%;
  border-collapse:collapse;
  font-size:12px;
}
th, td{
  padding:8px 9px;
  border-bottom: 1px solid var(--border);
  text-align:left;
  vertical-align: top;
}
thead th{
  font-size:11px;
  text-transform: uppercase;
  letter-spacing: .35px;
  color: color-mix(in srgb, var(--muted) 70%, var(--text));
  background: color-mix(in srgb, var(--card) 92%, transparent);
}
tbody tr:hover td{ background: var(--table-hover); }

/* Estado pill */
.estado-pill{
  font-size:11px;
  padding:3px 7px;
  border-radius:999px;
  display:inline-flex;
  align-items:center;
  gap:5px;
  white-space: nowrap;
}
.estado-ok{
  background: rgba(22, 163, 74, 0.10);
  color: var(--success);
  border: 1px solid rgba(22, 163, 74, 0.35);
}
.estado-pend{
  background: rgba(249, 115, 22, 0.10);
  color: var(--warning);
  border: 1px solid rgba(249, 115, 22, 0.35);
}
.estado-incomp{
  background: rgba(220, 38, 38, 0.10);
  color: var(--danger);
  border: 1px solid rgba(220, 38, 38, 0.35);
}

.actions{
  display:flex;
  flex-wrap:wrap;
  gap:4px;
}

/* Mini buttons */
.btn-xs{
  padding:4px 8px;
  font-size:11px;
  border-radius:999px;
  border:none;
  cursor:pointer;
  background: rgba(148, 163, 184, 0.18);
  color: var(--text);
  transition: transform .10s ease, filter .10s ease;
}
.btn-xs:hover{ transform: translateY(-1px); filter: brightness(1.03); }
.btn-xs:active{ transform: translateY(0px); }

.btn-xs.primary{ background: rgba(37, 99, 235, 0.20); }
.btn-xs.success{ background: rgba(22, 163, 74, 0.18); color: var(--success); }

/* ---------------- LOADING OVERLAY ---------------- */
#loadingOverlay{
  position:fixed;
  inset:0;
  background: rgba(15, 23, 42, 0.72);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:50;
  color:#e5e7eb;
  font-size:13px;
  flex-direction:column;
  gap:10px;
}
#loadingText{ font-weight:600; letter-spacing:.2px; }

.loader-bar{
  width:190px;
  height:4px;
  border-radius:999px;
  background: rgba(148, 163, 184, 0.45);
  overflow:hidden;
}
.loader-bar-inner{
  width:40%;
  height:100%;
  border-radius:999px;
  background: linear-gradient(90deg, #38bdf8, #22c55e);
  animation: loading 1.05s infinite;
}
@keyframes loading{
  0%{ transform: translateX(-100%); }
  50%{ transform: translateX(30%); }
  100%{ transform: translateX(200%); }
}

/* ---------------- MODAL PDF ---------------- */
.modal-backdrop{
  position:fixed;
  inset:0;
  background: var(--modal-backdrop);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:60;
}

.modal-content{
  background: var(--card);
  border-radius: var(--radius-lg);
  border: 1px solid color-mix(in srgb, var(--border-strong) 55%, transparent);
  box-shadow: 0 22px 60px rgba(15, 23, 42, 0.85);
  max-width: 900px;
  width: 96%;
  max-height: 90vh;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

.modal-header{
  padding: 10px 14px;
  border-bottom: 1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:space-between;
  background: var(--header-bg);
  color:#e5e7eb;
  font-size:14px;
  font-weight:700;
}

.modal-close{
  border:none;
  background: transparent;
  color:#cbd5e1;
  cursor:pointer;
  font-size:16px;
  padding: 4px 8px;
  border-radius:999px;
  transition: background .12s ease, color .12s ease;
}
.modal-close:hover{
  background: rgba(148, 163, 184, 0.16);
  color:#ffffff;
}

.modal-body{
  padding:12px;
  flex:1;
  /* ‚úÖ en dark se ve mejor un fondo neutro, sin matar contraste */
  background: color-mix(in srgb, var(--bg) 65%, #000);
  overflow:auto;
}

.modal-footer{
  padding:10px 14px;
  border-top: 1px solid var(--border);
  display:flex;
  justify-content:flex-end;
  gap:8px;
  background: var(--bg-soft);
}

/* ---------------- PDF CONTENT (SIEMPRE CLARO) ---------------- */
.pdf-content{
  width:100%;
  max-width:800px;
  margin: 0 auto 8px;
  background: var(--pdf-bg);
  color: var(--pdf-text);
  padding: 24px 32px;
  border-radius: 12px;
  box-shadow: 0 0 0 1px var(--pdf-border);
  font-size:13px;
  line-height:1.55;
}

.pdf-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
  margin-bottom:12px;
}

.pdf-title-block{ flex:1; }
.pdf-main-title{
  font-size:18px;
  font-weight:900;
  text-transform:uppercase;
  letter-spacing:.5px;
}
.pdf-subtitle{
  font-size:12px;
  color: var(--pdf-muted);
  margin-top:2px;
}

.pdf-badge-fe{
  font-size:11px;
  padding:4px 10px;
  border-radius:999px;
  border: 1px solid var(--pdf-border);
  background: #f9fafb;
  color:#2563eb;
  font-weight:700;
}

.pdf-section-title{
  font-weight:800;
  margin-top:14px;
  margin-bottom:4px;
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:.35px;
}
.pdf-section-body{ margin-left:4px; font-size:13px; }

.pdf-field-row{
  display:flex;
  flex-wrap:wrap;
  gap:16px;
  margin: 2px 0;
}
.pdf-field{ font-size:13px; }

.pdf-objective-box,
.pdf-detail-box{
  margin-top:4px;
  padding: 10px 12px;
  border-radius: 10px;
  background: var(--pdf-soft);
  border: 1px solid var(--pdf-border);
  font-size:13px;
}

/* ‚úÖ Para que el detalle con HTML (Quill) se vea bien en PDF */
.pdf-detail-box ul,
.pdf-detail-box ol{
  margin: 6px 0 6px 18px;
}
.pdf-detail-box li{ margin: 2px 0; }
.pdf-detail-box b, .pdf-detail-box strong{ font-weight: 800; }
.pdf-detail-box em{ color: #374151; }

.pdf-signatures{
  margin-top:24px;
  display:flex;
  gap:20px;
  align-items:flex-start;
}
@media (max-width: 720px){
  .pdf-signatures{ flex-direction: column; }
}

.pdf-sign-resp{
  flex: 0 0 220px;
  text-align:center;
  font-size:12px;
}
.pdf-sign-resp-title{ font-weight:800; margin-bottom:4px; }
.pdf-sign-resp img{
  max-width:200px;
  max-height:70px;
  object-fit:contain;
  border-radius:8px;
  border:1px solid var(--pdf-border);
  background:#ffffff;
}
.pdf-sign-resp-line{
  border-top: 1px solid var(--pdf-text);
  margin: 10px 0 4px;
}
.pdf-sign-resp-role{ color:#6b7280; }

.pdf-sign-grid{
  flex:1;
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
  gap:10px;
}

.pdf-sign-card{
  border-radius: 12px;
  border: 1px solid var(--pdf-border);
  background: #f9fafb;
  padding: 10px 10px;
  font-size:11px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.pdf-sign-card-header{
  display:flex;
  justify-content:space-between;
  gap:6px;
  align-items: baseline;
}
.pdf-sign-name{ font-weight:900; font-size:12px; }
.pdf-sign-gc{ color:#6b7280; font-size:10px; }

.pdf-sign-status{
  padding:2px 8px;
  border-radius:999px;
  font-size:10px;
  border: 1px solid var(--pdf-border);
  background:#eef2ff;
  color:#1d4ed8;
  white-space:nowrap;
  font-weight:800;
}
.pdf-sign-status-ok{
  background:#dcfce7;
  border-color:#22c55e;
  color:#15803d;
}

.pdf-sign-img{
  margin-top:2px;
  border-radius:10px;
  border:1px solid var(--pdf-border);
  background:#ffffff;
  height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}
.pdf-sign-img img{
  max-height:58px;
  width:100%;
  object-fit:contain;
}
.pdf-sign-img-empty{
  font-size:10px;
  color:#9ca3af;
  border-style:dashed;
  background:#f3f4f6;
}
.pdf-sign-date{
  margin-top:2px;
  font-size:10px;
  color:#6b7280;
}

/* ---------------- QUILL EDITOR (Detalle / acuerdos clave) ---------------- */
/* Tu HTML usa: <div id="detalleEditor" class="editor-box"></div> */
.editor-box{
  border-radius: 12px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 88%, transparent);
  overflow:hidden;
  min-height: 140px;
}

/* Toolbar */
.ql-toolbar.ql-snow{
  border: none !important;
  border-bottom: 1px solid var(--border) !important;
  background: color-mix(in srgb, var(--card) 86%, transparent);
  padding: 10px 10px !important;
}
body.dark .ql-toolbar.ql-snow{
  background: color-mix(in srgb, var(--card) 92%, transparent);
  border-bottom-color: var(--border) !important;
}

/* Container */
.ql-container.ql-snow{
  border: none !important;
  font-size: 13px;
}
.ql-editor{
  min-height: 120px;
  padding: 10px 12px !important;
  color: var(--text);
}
.ql-editor p,
.ql-editor li{
  line-height: 1.55;
}
.ql-editor.ql-blank::before{
  color: color-mix(in srgb, var(--muted) 70%, transparent) !important;
  font-style: normal !important;
}

/* Botones e iconos Quill en dark (para que se vean) */
body.dark .ql-snow .ql-stroke{ stroke: #e5e7eb !important; }
body.dark .ql-snow .ql-fill{ fill: #e5e7eb !important; }
body.dark .ql-snow .ql-picker{ color: #e5e7eb !important; }
body.dark .ql-snow .ql-picker-options{
  background: #0b1220 !important;
  border-color: var(--border-strong) !important;
}
body.dark .ql-snow .ql-picker-item:hover,
body.dark .ql-snow .ql-picker-label:hover{
  color: #ffffff !important;
}
body.dark .ql-toolbar.ql-snow button:hover,
body.dark .ql-toolbar.ql-snow button.ql-active{
  background: rgba(56,189,248,.14) !important;
  border-radius: 8px;
}

/* Fix: editor-box que contiene toolbar+container */
.editor-box .ql-toolbar.ql-snow{ border-top-left-radius: 12px; border-top-right-radius: 12px; }
.editor-box .ql-container.ql-snow{ border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; }

/* ---------------- SCROLLBAR (opcional, sutil) ---------------- */
.modal-body::-webkit-scrollbar{ width:10px; }
.modal-body::-webkit-scrollbar-thumb{
  background: rgba(148,163,184,.25);
  border-radius:999px;
  border: 2px solid transparent;
  background-clip: content-box;
}
.modal-body::-webkit-scrollbar-thumb:hover{ background: rgba(148,163,184,.35); }

/* ---------------- RESPONSIVE HEADER ---------------- */
@media (max-width: 720px){
  header{
    flex-direction:column;
    align-items:flex-start;
    gap:8px;
  }
  .header-right{
    align-self:stretch;
    justify-content:flex-end;
    flex-wrap: wrap;
  }
}

/* ---------------- PRINT (por si abres el modal e imprimes) ---------------- */
@media print{
  body{ background:#fff !important; }
  header, .modal-backdrop, #loadingOverlay{ display:none !important; }
  .card{ box-shadow:none !important; border:1px solid #e5e7eb !important; }
}
.editor-toolbar {
  display: flex;
  gap: 6px;
  margin-bottom: 6px;
}

.editor-toolbar button {
  border: 1px solid var(--border);
  background: var(--bg-soft);
  color: var(--text);
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  cursor: pointer;
}

.editor-toolbar button:hover {
  background: var(--chip-bg);
}

.editor-box {
  min-height: 90px;
  padding: 10px;
  border-radius: 9px;
  border: 1px solid var(--border);
  background: var(--bg);
  color: var(--text);
  font-size: 13px;
}

.editor-box:focus {
  outline: none;
  border-color: var(--accent-soft);
  background: var(--card);
}
/* ===== EDITOR TEXTO B√ÅSICO ===== */
.editor-box {
  min-height: 130px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--bg);
  color: var(--text);
  font-size: 13px;
  line-height: 1.5;
  outline: none;
}

/* üëá ESTO ES LO QUE TE FALTABA */
.editor-box ul {
  list-style-type: disc;
  padding-left: 22px;
  margin: 6px 0;
}
.editor-box ol {
  list-style-type: decimal;
  padding-left: 22px;
  margin: 6px 0;
}
.editor-box li {
  margin-bottom: 4px;
}

.editor-toolbar {
  display: flex;
  gap: 6px;
  margin-bottom: 6px;
}
.editor-toolbar button {
  border: 1px solid var(--border);
  background: var(--bg-soft);
  color: var(--text);
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  cursor: pointer;
}
.editor-toolbar button:hover {
  background: var(--accent-soft);
  color: #fff;
}
/* ============================
   DARK MODE ‚Äì MEJORAS FINALES
============================ */
body.dark {
  background:
    radial-gradient(circle at top, rgba(56,189,248,0.14), transparent 55%),
    var(--bg);
}

/* Cards m√°s contrastadas */
body.dark .card {
  background: #0b1220;
  border-color: #334155;
}

/* Texto secundario M√ÅS claro */
body.dark .card-sub,
body.dark label,
body.dark .hint,
body.dark .header-sub {
  color: #cbd5e1;
}

/* Inputs y selects legibles */
body.dark input,
body.dark select,
body.dark textarea {
  background: #020617;
  color: #e5e7eb;
  border-color: #334155;
}

/* ============================
   CHIPS DE ASESORES ‚Äì DARK FIX
============================ */
body.dark .asesor-chip {
  background: linear-gradient(
    135deg,
    #0b1220,
    #020617
  );
  border-color: #475569;
  box-shadow: 0 12px 30px rgba(0,0,0,.55);
}

body.dark .asesor-chip-name {
  color: #f8fafc; /* BLANCO real */
  font-weight: 700;
}

body.dark .asesor-chip-gc {
  color: #94a3b8;
}

/* Chip seleccionado */
body.dark .asesor-chip.selected {
  background: linear-gradient(
    135deg,
    rgba(56,189,248,0.22),
    rgba(14,165,233,0.18)
  );
  border-color: #38bdf8;
  box-shadow: 0 0 0 1px rgba(56,189,248,.4),
              0 16px 42px rgba(14,165,233,.35);
}
/* ============================
   BOT√ìN LIMPIAR
============================ */
#btnLimpiar {
  background: transparent;
  color: var(--muted);
  border: 1px dashed var(--border);
  box-shadow: none;
  padding: 9px 16px;
  border-radius: 999px;
  font-size: 13px;
  cursor: pointer;
  transition: all .15s ease;
}

#btnLimpiar:hover {
  background: rgba(220, 38, 38, 0.08);
  color: #dc2626;
  border-color: #dc2626;
}

/* Dark mode */
body.dark #btnLimpiar {
  color: #cbd5e1;
  border-color: #475569;
}

body.dark #btnLimpiar:hover {
  background: rgba(248,113,113,.12);
  color: #fecaca;
  border-color: #f87171;
}

/* =========================================================
   FIN
========================================================= */
